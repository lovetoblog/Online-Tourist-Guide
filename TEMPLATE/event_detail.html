{% extends "core/base.html" %}
{% block content %}
<br><br>
<div class="container mt-5">


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <h1 class="text-center mb-4">Event Details</h1>

    <div class="card shadow p-4">
        <h2 class="mb-4">{{ event.title }}</h2>

        <!-- Event Info -->
        <table class="table table-bordered">
            <tbody>
                <tr>
                    <th scope="row">📍 Location</th>
                    <td>{{ event.location }}</td>
                </tr>
                <tr>
                    <th scope="row">📅 Date</th>
                    <td>{{ event.start_date }} to {{ event.end_date }}</td>
                </tr>
                <tr>
                    <th scope="row">📝 Description</th>
                    <td>{{ event.description }}</td>
                </tr>
                <tr>
                    <th scope="row">💵 Price</th>
                    <td>${{ event.price }}</td>
                </tr>
                <tr>
                    <th scope="row">🏷️ Type</th>
                    <td>{{ event.event_type }}</td>
                </tr>
                <tr>
                    <th scope="row">🌤️ Season</th>
                    <td>{{ event.season }}</td>
                </tr>
                <tr>
                    <th scope="row">🎟️ Spots Left</th>
                    <td>{{ event.spots_left }}</td>
                </tr>
                {% if event.booking_url %}
                <tr>
                    <th scope="row">🔗 Eventbrite</th>
                    <td><a href="{{ event.booking_url }}" target="_blank">View on Eventbrite</a></td>
                </tr>
                {% endif %}
            </tbody>
        </table>

        <!-- Registration Check -->
        {% if registration %}
            <div class="alert alert-success mt-4">
                <h5>✅ You are registered for this event.</h5>
                <p>Your ticket code:</p>
                <div class="ticket-code bg-dark text-white p-2 d-inline-block rounded">
                    {{ registration.ticket_code }}
                </div>
                <p class="mt-2">Please keep this code safe. It will be required at check-in.</p>
            </div>
        {% else %}
            <div class="alert alert-warning mt-4">
                <h5>❌ No booking has been done yet.</h5>
                <p>You haven’t registered for this event yet.</p>
                <a href="{% url 'book_event' event.id %}" class="btn btn-primary mt-2">Book Now</a>
            </div>
        {% endif %}

        <div class="mt-4 ">
            <a href="{% url 'dashboard' %}" class="btn btn-warning">← Back to Dashboard</a>
            <a href="{% url 'bookings_view' %}" class="btn btn-secondary">view booking</a>
        </div>
        
    </div>
</div>
<br><br><br><br>

{% endblock %}
